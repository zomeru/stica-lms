import React from 'react';
import { motion } from 'framer-motion';
import { useTabActive } from '@lms/ui';

const svgVariants = {
  initial: {
    opacity: 0,
  },
  animate: {
    opacity: 1,
    transition: {
      duration: 1,
    },
  },
};

const pathVariants = {
  initial: {
    opacity: 0,
    pathLength: 0,
  },
  animate: {
    opacity: 1,
    pathLength: 1,
    transition: {
      duration: 2.5,
      ease: 'easeInOut',
    },
  },
};

const IntroLoader = ({ finishLoading }: { finishLoading: () => void }) => {
  const isTabActive = useTabActive();

  return (
    <motion.svg
      initial={isTabActive ? 'initial' : false}
      animate={isTabActive ? 'animate' : false}
      onAnimationComplete={finishLoading}
      width='527'
      height='72.301'
      viewBox='0 0 527 72.301'
      xmlns='http://www.w3.org/2000/svg'
      variants={svgVariants}
      exit='exit'
    >
      <motion.path
        variants={pathVariants}
        stroke='#003262'
        strokeWidth='3'
        fill='none'
        d='M 0.2 49.7 L 20.9 49.7 A 11.536 11.536 0 0 0 20.858 50.446 Q 20.791 53.314 22.3 55 A 5.32 5.32 0 0 0 24.693 56.509 Q 25.568 56.79 26.635 56.869 A 11.689 11.689 0 0 0 27.5 56.9 Q 30.4 56.9 32.15 55.6 A 4.205 4.205 0 0 0 33.869 52.518 A 6.025 6.025 0 0 0 33.9 51.9 A 5.231 5.231 0 0 0 32.051 47.857 A 7.676 7.676 0 0 0 31.35 47.3 Q 29.23 45.804 24.931 43.892 A 100.223 100.223 0 0 0 23.1 43.1 A 116.825 116.825 0 0 1 19.106 41.336 Q 16.013 39.894 13.7 38.55 Q 10 36.4 7.3 32.65 Q 4.6 28.9 4.6 23.3 A 24.779 24.779 0 0 1 5.391 16.907 A 19.807 19.807 0 0 1 8.2 10.75 A 21.945 21.945 0 0 1 16.21 3.72 A 27.224 27.224 0 0 1 18.25 2.75 A 33.793 33.793 0 0 1 26.798 0.42 A 44.177 44.177 0 0 1 33 0 Q 40.5 0 46.3 2.35 A 23.111 23.111 0 0 1 51.427 5.187 A 18.694 18.694 0 0 1 55.35 9.1 A 16.61 16.61 0 0 1 58.536 17.845 A 20.985 20.985 0 0 1 58.6 19.5 Q 58.6 20.796 58.535 21.567 A 8.528 8.528 0 0 1 58.5 21.9 L 37.4 21.9 A 4.08 4.08 0 0 0 37.453 21.549 Q 37.493 21.18 37.499 20.671 A 15.175 15.175 0 0 0 37.5 20.5 A 6.161 6.161 0 0 0 37.306 18.911 A 4.345 4.345 0 0 0 36 16.75 Q 34.599 15.489 32.238 15.406 A 9.606 9.606 0 0 0 31.9 15.4 Q 29.2 15.4 27.55 16.75 Q 25.9 18.1 25.9 20.5 A 4.925 4.925 0 0 0 27.275 23.915 A 7.741 7.741 0 0 0 28.45 24.95 A 24.756 24.756 0 0 0 30.215 26.106 Q 32.044 27.206 34.698 28.494 A 103.242 103.242 0 0 0 36.4 29.3 A 124.526 124.526 0 0 1 40.462 31.276 Q 42.378 32.254 43.997 33.182 A 57.757 57.757 0 0 1 45.95 34.35 A 21.85 21.85 0 0 1 51.885 39.883 A 25.279 25.279 0 0 1 52.4 40.6 A 14.874 14.874 0 0 1 54.751 46.336 A 20.478 20.478 0 0 1 55.1 50.2 Q 55.1 56.5 51.7 61.55 A 21.407 21.407 0 0 1 44.98 67.881 A 27.316 27.316 0 0 1 42 69.45 A 30.823 30.823 0 0 1 34.657 71.674 Q 31.352 72.261 27.602 72.298 A 51.3 51.3 0 0 1 27.1 72.3 A 48.333 48.333 0 0 1 19.274 71.704 Q 12.339 70.564 7.45 67.25 A 16.195 16.195 0 0 1 0.191 55.488 A 22.616 22.616 0 0 1 0 52.5 A 10.643 10.643 0 0 1 0.012 52.028 Q 0.05 51.202 0.2 49.7 Z'
        id='0'
      />
      <motion.path
        variants={pathVariants}
        stroke='#003262'
        strokeWidth='3'
        fill='none'
        d='M 69.7 1.1 L 126.7 1.1 L 123.9 16.7 L 105.2 16.7 L 95.5 71.6 L 75.8 71.6 L 85.5 16.7 L 66.9 16.7 L 69.7 1.1 Z'
        id='1'
      />
      <motion.path
        variants={pathVariants}
        stroke='#003262'
        strokeWidth='3'
        fill='none'
        d='M 134 1.1 L 153.6 1.1 L 141.2 71.6 L 121.5 71.6 L 134 1.1 Z'
        id='2'
      />
      <motion.path
        variants={pathVariants}
        stroke='#003262'
        strokeWidth='3'
        fill='none'
        d='M 226.8 26.6 L 205.7 26.6 A 12.325 12.325 0 0 0 204.131 23.268 A 10.304 10.304 0 0 0 201.5 20.6 A 11.374 11.374 0 0 0 197.082 18.772 A 15.67 15.67 0 0 0 194.1 18.5 A 16.133 16.133 0 0 0 182.419 23.282 A 19.725 19.725 0 0 0 182.4 23.3 Q 177.5 28.1 176.1 36.2 A 22.771 22.771 0 0 0 175.739 39.23 A 27.177 27.177 0 0 0 175.7 40.7 A 19.112 19.112 0 0 0 176.084 44.65 Q 176.817 48.121 178.95 50.45 A 10.688 10.688 0 0 0 185.124 53.764 A 15.616 15.616 0 0 0 187.9 54 Q 192.3 54 196.05 51.9 A 17.348 17.348 0 0 0 201.738 46.732 A 20.603 20.603 0 0 0 202.3 45.9 L 223.5 45.9 Q 218.7 58 208.4 65.05 A 40.451 40.451 0 0 1 185.722 72.093 A 48.928 48.928 0 0 1 184.9 72.1 A 39.75 39.75 0 0 1 177.156 71.382 A 29.361 29.361 0 0 1 169.15 68.6 Q 162.5 65.1 159 58.7 A 28.356 28.356 0 0 1 155.842 48.955 A 36.266 36.266 0 0 1 155.5 43.9 Q 155.5 40 156.2 36.2 A 45.009 45.009 0 0 1 162.579 19.46 A 43.552 43.552 0 0 1 163.8 17.65 Q 169.6 9.5 178.4 4.95 Q 187.2 0.4 197.6 0.4 Q 206.3 0.4 212.8 3.6 Q 219.3 6.8 222.9 12.7 Q 226.5 18.6 226.8 26.6 Z'
        id='3'
      />
      <motion.path
        variants={pathVariants}
        stroke='#003262'
        strokeWidth='3'
        fill='none'
        d='M 276.6 71.6 L 274.8 60.1 L 249.8 60.1 L 244 71.6 L 223.4 71.6 L 261.5 1.1 L 284.1 1.1 L 297.3 71.6 L 276.6 71.6 Z M 257.4 45.2 L 272.5 45.2 L 269 22.3 L 257.4 45.2 Z'
        id='4'
      />
      <motion.path
        variants={pathVariants}
        stroke='#003262'
        strokeWidth='3'
        fill='none'
        d='M 355.8 1.1 L 346.1 56.7 L 368 56.7 L 365.3 71.6 L 323.7 71.6 L 336.2 1.1 L 355.8 1.1 Z'
        id='6'
      />
      <motion.path
        variants={pathVariants}
        stroke='#003262'
        strokeWidth='3'
        fill='none'
        d='M 444 1.1 L 467.6 1.1 L 455.1 71.6 L 435.6 71.6 L 442.5 32.6 L 422.2 71.6 L 405.8 71.6 L 399.4 32.4 L 392.5 71.6 L 372.8 71.6 L 385.3 1.1 L 409 1.1 L 418.7 46.8 L 444 1.1 Z'
        id='7'
      />
      <motion.path
        variants={pathVariants}
        stroke='#003262'
        strokeWidth='3'
        fill='none'
        d='M 468.6 49.7 L 489.3 49.7 A 11.536 11.536 0 0 0 489.258 50.446 Q 489.191 53.314 490.7 55 A 5.32 5.32 0 0 0 493.093 56.509 Q 493.968 56.79 495.035 56.869 A 11.689 11.689 0 0 0 495.9 56.9 Q 498.8 56.9 500.55 55.6 A 4.205 4.205 0 0 0 502.269 52.518 A 6.025 6.025 0 0 0 502.3 51.9 A 5.231 5.231 0 0 0 500.451 47.857 A 7.676 7.676 0 0 0 499.75 47.3 Q 497.63 45.804 493.331 43.892 A 100.223 100.223 0 0 0 491.5 43.1 A 116.825 116.825 0 0 1 487.506 41.336 Q 484.413 39.894 482.1 38.55 Q 478.4 36.4 475.7 32.65 Q 473 28.9 473 23.3 A 24.779 24.779 0 0 1 473.791 16.907 A 19.807 19.807 0 0 1 476.6 10.75 A 21.945 21.945 0 0 1 484.61 3.72 A 27.224 27.224 0 0 1 486.65 2.75 A 33.793 33.793 0 0 1 495.198 0.42 A 44.177 44.177 0 0 1 501.4 0 Q 508.9 0 514.7 2.35 A 23.111 23.111 0 0 1 519.827 5.187 A 18.694 18.694 0 0 1 523.75 9.1 A 16.61 16.61 0 0 1 526.936 17.845 A 20.985 20.985 0 0 1 527 19.5 Q 527 20.796 526.935 21.567 A 8.528 8.528 0 0 1 526.9 21.9 L 505.8 21.9 A 4.08 4.08 0 0 0 505.853 21.549 Q 505.893 21.18 505.899 20.671 A 15.175 15.175 0 0 0 505.9 20.5 A 6.161 6.161 0 0 0 505.706 18.911 A 4.345 4.345 0 0 0 504.4 16.75 Q 502.999 15.489 500.638 15.406 A 9.606 9.606 0 0 0 500.3 15.4 Q 497.6 15.4 495.95 16.75 Q 494.3 18.1 494.3 20.5 A 4.925 4.925 0 0 0 495.675 23.915 A 7.741 7.741 0 0 0 496.85 24.95 A 24.756 24.756 0 0 0 498.615 26.106 Q 500.444 27.206 503.098 28.494 A 103.242 103.242 0 0 0 504.8 29.3 A 124.526 124.526 0 0 1 508.862 31.276 Q 510.778 32.254 512.397 33.182 A 57.757 57.757 0 0 1 514.35 34.35 A 21.85 21.85 0 0 1 520.285 39.883 A 25.279 25.279 0 0 1 520.8 40.6 A 14.874 14.874 0 0 1 523.151 46.336 A 20.478 20.478 0 0 1 523.5 50.2 Q 523.5 56.5 520.1 61.55 A 21.407 21.407 0 0 1 513.38 67.881 A 27.316 27.316 0 0 1 510.4 69.45 A 30.823 30.823 0 0 1 503.057 71.674 Q 499.752 72.261 496.002 72.298 A 51.3 51.3 0 0 1 495.5 72.3 A 48.333 48.333 0 0 1 487.674 71.704 Q 480.739 70.564 475.85 67.25 A 16.195 16.195 0 0 1 468.591 55.488 A 22.616 22.616 0 0 1 468.4 52.5 A 10.643 10.643 0 0 1 468.412 52.028 Q 468.45 51.202 468.6 49.7 Z'
        id='8'
      />
    </motion.svg>
  );
};

export default IntroLoader;
